@import "tailwindcss";

/* ============ DESIGN TOKENS (LIGHT ONLY) ============ */
:root {
  /* Neutres (pas de blanc/noir purs) */
  --background: #F6F7FB;
  /* off-white froid */
  --foreground: #1C2434;
  /* bleu-gris “ink” */

  /* Surfaces & UI */
  --card: #FBFCFE;
  --muted: #ECF0F6;
  --border: #CED6E2;
  --input: #E6EBF3;
  --ring: #0D9488;
  /* teal-600 */

  /* Brand (teal) */
  --brand-50: #E9FBF6;
  --brand-100: #C6F4E9;
  --brand-200: #9EEAD9;
  --brand-300: #6DDCC7;
  --brand-400: #3DC9B3;
  --brand-500: #1FB4A0;
  --brand-600: #0D9488;
  /* PRIMARY */
  --brand-700: #0B776D;
  --brand-800: #095E57;
  --brand-900: #074A45;
  --brand: var(--brand-600);
  --brand-on: #FFFFFF;

  /* Interactions */
  --tint-hover: color-mix(in oklab, var(--brand-600) 10%, transparent);

  /* Header / avatar */
  --avatar-bg: linear-gradient(135deg, var(--brand-600), var(--brand-700));
  --header-shadow: 0 8px 30px rgb(15 23 42 / .08);
}

/* ============ TAILWIND v4 MAPPINGS ============ */
@theme inline {
  --font-sans: var(--font-sans);
  --font-serif: var(--font-serif);

  --color-background: var(--background);
  --color-foreground: var(--foreground);

  --color-card: var(--card);
  --color-muted: var(--muted);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);

  --color-brand-50: var(--brand-50);
  --color-brand-100: var(--brand-100);
  --color-brand-200: var(--brand-200);
  --color-brand-300: var(--brand-300);
  --color-brand-400: var(--brand-400);
  --color-brand-500: var(--brand-500);
  --color-brand-600: var(--brand-600);
  --color-brand-700: var(--brand-700);
  --color-brand-800: var(--brand-800);
  --color-brand-900: var(--brand-900);
  --color-brand: var(--brand-600);
}

/* ============ BASE ============ */
:root {
  color-scheme: light;
}

html,
body {
  min-height: 100%;
  overflow-x: hidden;
}

body {
  background: var(--background);
  color: var(--foreground);
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
}

::selection {
  background: color-mix(in oklab, var(--brand-600) 26%, transparent);
}

/* ============ HEADER (verre dépoli) ============ */
.header-glass {
  background: color-mix(in oklab, var(--card) 72%, transparent);
  -webkit-backdrop-filter: saturate(1.1) blur(10px);
  backdrop-filter: saturate(1.1) blur(10px);
  box-shadow: var(--header-shadow);
}

/* ============ FOCUS A11Y ============ */
.focusable {
  outline: none;
}

.focusable:focus-visible {
  box-shadow:
    0 0 0 2px var(--ring),
    0 0 0 4px color-mix(in oklab, var(--background) 92%, transparent);
}

/* ============ LIENS NAV / ITEMS MENU ============ */
.navlink,
.menu-item {
  transition: background-color .2s, color .2s, box-shadow .2s, transform .08s;
  border-radius: .75rem;
  padding: .375rem .75rem;
}

.navlink:hover,
.menu-item:hover {
  background: var(--tint-hover);
}

.navlink[aria-current="page"] {
  background: var(--brand-600);
  color: var(--brand-on);
}

/* ============ POPOVER COMPTE ============ */
.account {
  position: relative;
  display: inline-block;
}

.account>summary {
  list-style: none;
  cursor: pointer;
  border-radius: 999px;
  display: inline-flex;
  align-items: center;
  padding: .25rem;
}

.account>summary::-webkit-details-marker {
  display: none;
}

.account-avatar {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 2rem;
  height: 2rem;
  border-radius: 999px;
  background: var(--avatar-bg);
  color: var(--brand-on);
  font-weight: 600;
  font-size: .95rem;
}

.account-pop {
  position: absolute;
  right: 0;
  top: 2.75rem;
  width: 16rem;
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 8px;
  box-shadow: var(--header-shadow);
}

.account-head {
  display: flex;
  align-items: center;
  gap: .6rem;
  padding: .5rem .6rem;
  background: color-mix(in oklab, var(--muted) 80%, transparent);
  border-radius: 10px;
}

.account-name {
  font-size: .95rem;
  font-weight: 600;
}

.account-email {
  font-size: .75rem;
  color: var(--muted-foreground);
}

.account-item {
  display: block;
  border-radius: .6rem;
  padding: .5rem .6rem;
  margin-top: .25rem;
}

.account-item:hover {
  background: var(--tint-hover);
}

.account-divider {
  height: 1px;
  background: var(--border);
  margin: .4rem .25rem;
  border: 0;
}

/* ============ MENU MOBILE (simple) ============ */
.mobile {
  position: relative;
}

.mobile-pop {
  position: absolute;
  right: 0;
  top: 2.75rem;
  width: 14rem;
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 8px;
  box-shadow: var(--header-shadow);
}